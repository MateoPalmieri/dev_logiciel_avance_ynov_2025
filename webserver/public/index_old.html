<!DOCTYPE html>
<html lang="fr">
    
    <head>
        <meta charset="UTF-8">
        <title>Quiz Room</title>
    </head>

    <body style="font-family: sans-serif; text-align: center; padding-top: 2em;">
        <h1>🧠 Quiz Room</h1>
        <h2 id="winner">⏳ En attente d’un buzzer...</h2>
        <button onclick="reset()">🔄 Reset</button>

        <script>
            async function getWinner() {
            const res = await fetch('/winner');
            const data = await res.json();
            document.getElementById('winner').innerText =
                data.winner ? `🎉 Joueur ${data.winner} a buzzé !` : "⏳ En attente...";
            }

            async function reset() {
            await fetch('/reset', { method: "POST" });
            getWinner();
            }

            setInterval(getWinner, 1000);
            getWinner();
        </script>
    </body>
</html>
